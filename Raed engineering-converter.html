<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ø­ÙˆÙ‘Ù„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #080c18;
    --surface: #0f1623;
    --surface2: #161f30;
    --surface3: #1c2840;
    --border: #1e2d45;
    --border2: #243450;
    --accent-civil:  #00d4aa;
    --accent-elec:   #f5c518;
    --accent-mech:   #ff6b35;
    --accent-general:#0099ff;
    --accent: #00d4aa;
    --text: #e2e8f0;
    --text-muted: #64748b;
    --text-dim: #94a3b8;
  }
  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    font-family:'Cairo',sans-serif;
    background:var(--bg);
    color:var(--text);
    min-height:100vh;
    overflow-x:hidden;
  }

  body::before {
    content:'';
    position:fixed; inset:0;
    background:
      radial-gradient(ellipse 70% 50% at 15% 5%,  rgba(0,153,255,0.07) 0%,transparent 60%),
      radial-gradient(ellipse 50% 50% at 85% 85%, rgba(0,212,170,0.05) 0%,transparent 60%),
      repeating-linear-gradient(0deg,   transparent,transparent 70px,rgba(255,255,255,0.008) 70px,rgba(255,255,255,0.008) 71px),
      repeating-linear-gradient(90deg,  transparent,transparent 70px,rgba(255,255,255,0.008) 70px,rgba(255,255,255,0.008) 71px);
    pointer-events:none; z-index:0;
  }

  .wrap { position:relative; z-index:1; max-width:1160px; margin:0 auto; padding:0 18px 60px; }

  /* â”€â”€ HEADER â”€â”€ */
  header { padding:36px 0 24px; text-align:center; }
  .logo-ring {
    width:56px; height:56px; border-radius:16px; margin:0 auto 14px;
    background:linear-gradient(135deg,#00d4aa,#0099ff);
    display:flex; align-items:center; justify-content:center;
    font-size:26px;
    box-shadow:0 0 36px rgba(0,212,170,0.35);
  }
  h1 {
    font-size:clamp(20px,4vw,34px); font-weight:900; letter-spacing:-0.5px;
    background:linear-gradient(135deg,#00d4aa,#0099ff);
    -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
  }
  .subtitle { color:var(--text-muted); font-size:13px; margin-top:5px; }

  /* â”€â”€ DISCIPLINE TABS â”€â”€ */
  .disc-bar {
    display:flex; gap:10px; justify-content:center; flex-wrap:wrap;
    margin:26px 0 0;
  }
  .disc-btn {
    display:flex; align-items:center; gap:9px;
    padding:11px 22px; border-radius:12px;
    border:2px solid var(--border2);
    background:var(--surface2);
    color:var(--text-dim);
    cursor:pointer; font-family:'Cairo',sans-serif;
    font-size:14px; font-weight:700;
    transition:all .22s;
  }
  .disc-btn .disc-dot {
    width:8px; height:8px; border-radius:50%;
    background:currentColor; opacity:.5;
    transition:opacity .2s;
  }
  .disc-btn:hover { color:var(--text); border-color:var(--border2); }
  .disc-btn.active-civil  { color:var(--accent-civil);  border-color:var(--accent-civil);  background:rgba(0,212,170,.08);  box-shadow:0 0 18px rgba(0,212,170,.15); }
  .disc-btn.active-elec   { color:var(--accent-elec);   border-color:var(--accent-elec);   background:rgba(245,197,24,.07); box-shadow:0 0 18px rgba(245,197,24,.15); }
  .disc-btn.active-mech   { color:var(--accent-mech);   border-color:var(--accent-mech);   background:rgba(255,107,53,.07); box-shadow:0 0 18px rgba(255,107,53,.15); }
  .disc-btn.active-general{ color:var(--accent-general);border-color:var(--accent-general);background:rgba(0,153,255,.08);  box-shadow:0 0 18px rgba(0,153,255,.15); }
  .disc-btn.active-civil .disc-dot,
  .disc-btn.active-elec .disc-dot,
  .disc-btn.active-mech .disc-dot,
  .disc-btn.active-general .disc-dot { opacity:1; }

  /* â”€â”€ CATEGORY PILLS â”€â”€ */
  .cat-bar {
    display:flex; gap:7px; flex-wrap:wrap;
    margin:18px 0 22px;
    padding:16px 18px;
    background:var(--surface);
    border:1px solid var(--border);
    border-radius:14px;
  }
  .cat-btn {
    padding:7px 15px; border-radius:50px;
    border:1px solid var(--border2);
    background:transparent;
    color:var(--text-muted);
    cursor:pointer; font-family:'Cairo',sans-serif;
    font-size:12px; font-weight:600;
    transition:all .18s;
    display:flex; align-items:center; gap:6px;
  }
  .cat-btn:hover { color:var(--text); border-color:var(--text-muted); }
  .cat-btn.active {
    color:#fff;
    border-color:var(--accent);
    background:var(--accent);
  }

  /* â”€â”€ CONVERTER CARD â”€â”€ */
  .conv-card {
    background:var(--surface);
    border:1px solid var(--border);
    border-radius:20px;
    overflow:hidden;
    box-shadow:0 10px 50px rgba(0,0,0,.45);
  }
  .conv-head {
    padding:20px 26px;
    background:var(--surface2);
    border-bottom:1px solid var(--border);
    display:flex; align-items:center; gap:14px;
  }
  .conv-head-icon {
    width:46px; height:46px; border-radius:12px;
    display:flex; align-items:center; justify-content:center;
    font-size:22px;
    border:1px solid var(--accent);
    background:rgba(0,212,170,.08);
    flex-shrink:0;
  }
  .conv-head-title { font-size:17px; font-weight:800; }
  .conv-head-desc  { font-size:12px; color:var(--text-muted); margin-top:2px; }

  .conv-body { padding:26px; }

  /* two-column input grid */
  .input-grid {
    display:grid;
    grid-template-columns:1fr 52px 1fr;
    gap:14px; align-items:end;
    margin-bottom:22px;
  }
  .field-lbl {
    font-size:11px; font-weight:700; color:var(--text-muted);
    text-transform:uppercase; letter-spacing:.6px; margin-bottom:7px;
  }
  .sel {
    width:100%; padding:11px 14px;
    background:var(--bg); border:1px solid var(--border2);
    border-radius:9px; color:var(--text);
    font-family:'Cairo',sans-serif; font-size:13px;
    outline:none; cursor:pointer; transition:border-color .2s;
    appearance:none;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='11' height='11' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
    background-repeat:no-repeat; background-position:left 11px center;
    margin-bottom:9px;
  }
  .sel:focus { border-color:var(--accent); }
  .inp {
    width:100%; padding:13px 15px;
    background:var(--bg); border:2px solid var(--border2);
    border-radius:9px; color:var(--text);
    font-family:'JetBrains Mono',monospace;
    font-size:17px; font-weight:600;
    outline:none; transition:border-color .2s, box-shadow .2s;
    direction:ltr; text-align:left;
  }
  .inp:focus { border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,212,170,.1); }
  .inp-result {
    background:rgba(0,212,170,.04);
    border-color:rgba(0,212,170,.3);
    color:var(--accent); cursor:default;
  }
  .swap-btn {
    width:44px; height:44px; border-radius:50%;
    border:1px solid var(--border2); background:var(--surface2);
    color:var(--text-dim); cursor:pointer; font-size:17px;
    display:flex; align-items:center; justify-content:center;
    transition:all .22s; margin-bottom:2px;
  }
  .swap-btn:hover { border-color:var(--accent); color:var(--accent); transform:rotate(180deg); }

  /* result row */
  .result-row { display:flex; align-items:flex-end; justify-content:space-between; gap:12px; }
  .big-res {
    font-family:'JetBrains Mono',monospace;
    font-size:clamp(22px,4vw,32px); font-weight:700;
    color:var(--accent); direction:ltr; word-break:break-all;
  }
  .copy-btn {
    padding:7px 14px; border-radius:8px;
    border:1px solid var(--border2); background:transparent;
    color:var(--text-muted); font-family:'Cairo',sans-serif;
    font-size:12px; cursor:pointer; transition:all .18s;
    display:flex; align-items:center; gap:6px; white-space:nowrap;
  }
  .copy-btn:hover { border-color:var(--accent); color:var(--accent); }

  /* formula bar */
  .fml-bar {
    background:var(--bg); border:1px solid var(--border);
    border-radius:9px; padding:13px 16px;
    display:flex; align-items:center; gap:10px; margin-top:16px;
  }
  .fml-lbl { font-size:11px; color:var(--text-muted); font-weight:700; white-space:nowrap; text-transform:uppercase; letter-spacing:.5px; }
  .fml-txt { font-family:'JetBrains Mono',monospace; font-size:12px; color:var(--accent-general); flex:1; direction:ltr; text-align:left; word-break:break-all; }

  /* quick refs */
  .sec-title {
    font-size:11px; font-weight:700; color:var(--text-muted);
    text-transform:uppercase; letter-spacing:1px;
    margin:22px 0 10px;
    display:flex; align-items:center; gap:8px;
  }
  .sec-title::after { content:''; flex:1; height:1px; background:var(--border); }
  .ref-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(190px,1fr)); gap:9px; }
  .ref-card {
    background:var(--bg); border:1px solid var(--border);
    border-radius:9px; padding:11px 14px; cursor:pointer; transition:all .18s;
  }
  .ref-card:hover { border-color:var(--accent); background:rgba(0,212,170,.05); }
  .ref-from { font-size:11px; color:var(--text-muted); margin-bottom:2px; }
  .ref-val  { font-family:'JetBrains Mono',monospace; font-size:12px; font-weight:600; color:var(--accent); direction:ltr; text-align:left; }

  /* â”€â”€ TOAST â”€â”€ */
  .toast {
    position:fixed; bottom:28px; left:50%;
    transform:translateX(-50%) translateY(80px);
    background:var(--accent); color:#000;
    padding:11px 24px; border-radius:50px;
    font-weight:800; font-size:13px; z-index:999;
    transition:transform .28s;
  }
  .toast.show { transform:translateX(-50%) translateY(0); }

  /* footer */
  footer {
    text-align:center; margin-top:44px;
    padding-top:26px; border-top:1px solid var(--border);
  }
  .footer-name { font-size:15px; font-weight:800; color:var(--text); }
  .footer-meta {
    margin-top:6px; font-family:'JetBrains Mono',monospace;
    font-size:12px; color:var(--text-muted);
    display:flex; align-items:center; justify-content:center; gap:14px; direction:ltr;
  }
  .footer-ver { color:var(--accent); font-weight:700; }

  @media(max-width:600px){
    .input-grid { grid-template-columns:1fr; }
    .swap-btn { margin:0 auto; transform:rotate(90deg); }
    .swap-btn:hover { transform:rotate(270deg); }
    .disc-btn { padding:9px 14px; font-size:13px; }
  }
</style>
</head>
<body>
<div class="wrap">

  <header>
    <div class="logo-ring">âš™ï¸</div>
    <h1>Ù…Ø­ÙˆÙ‘Ù„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„</h1>
    <p class="subtitle">Ø¥Ù†Ø´Ø§Ø¦ÙŠ â€¢ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ â€¢ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ â€¢ Ø¹Ø§Ù…</p>
  </header>

  <!-- Discipline selector -->
  <div class="disc-bar" id="discBar"></div>

  <!-- Category pills -->
  <div class="cat-bar" id="catBar"></div>

  <!-- Converter -->
  <div class="conv-card">
    <div class="conv-head">
      <div class="conv-head-icon" id="catIcon">ğŸ“</div>
      <div>
        <div class="conv-head-title" id="catTitle">Ø§Ù„Ø·ÙˆÙ„</div>
        <div class="conv-head-desc"  id="catDesc">ØªØ­ÙˆÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø·ÙˆÙ„ ÙˆØ§Ù„Ù…Ø³Ø§ÙØ©</div>
      </div>
    </div>
    <div class="conv-body">

      <div class="input-grid">
        <div>
          <div class="field-lbl">Ù…Ù† ÙˆØ­Ø¯Ø©</div>
          <select class="sel" id="fromUnit"></select>
          <input class="inp" type="number" id="fromVal" value="1" step="any" placeholder="0">
        </div>
        <div style="display:flex;flex-direction:column;align-items:center;gap:8px;padding-bottom:3px;">
          <div style="flex:1;width:1px;background:var(--border);"></div>
          <button class="swap-btn" id="swapBtn">â‡„</button>
          <div style="flex:1;width:1px;background:var(--border);"></div>
        </div>
        <div>
          <div class="field-lbl">Ø¥Ù„Ù‰ ÙˆØ­Ø¯Ø©</div>
          <select class="sel" id="toUnit"></select>
          <input class="inp inp-result" type="text" id="toVal" readonly>
        </div>
      </div>

      <div class="result-row">
        <div>
          <div class="field-lbl">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
          <div class="big-res" id="bigResult">â€”</div>
        </div>
        <button class="copy-btn" id="copyBtn">â˜ Ù†Ø³Ø®</button>
      </div>

      <div class="fml-bar">
        <div class="fml-lbl">Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©</div>
        <div class="fml-txt" id="formulaText">â€”</div>
      </div>

      <div class="sec-title">Ù…Ø±Ø§Ø¬Ø¹ Ø³Ø±ÙŠØ¹Ø©</div>
      <div class="ref-grid" id="refGrid"></div>

    </div>
  </div>

  <footer>
    <div class="footer-name">Ù…. Ø±Ø§Ø¦Ø¯ Ø§Ù„Ø¬Ø±Ø§Ù</div>
    <div class="footer-meta">
      <span id="footerDate"></span>
      <span style="color:var(--border)">|</span>
      <span class="footer-ver">v2.0.0</span>
    </div>
  </footer>

</div>
<div class="toast" id="toast">ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ“</div>

<script>
/* ================================================================
   DATA
   ================================================================ */
const disciplines = [
  { id:'general', label:'Ø§Ù„Ø¹Ø§Ù…',                       icon:'ğŸ”¬',  color:'var(--accent-general)', cls:'active-general' },
  { id:'civil',   label:'Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¥Ù†Ø´Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ù…Ø¯Ù†ÙŠØ©', icon:'ğŸ—ï¸',  color:'var(--accent-civil)',   cls:'active-civil'   },
  { id:'elec',    label:'Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',          icon:'âš¡',  color:'var(--accent-elec)',    cls:'active-elec'    },
  { id:'mech',    label:'Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©',         icon:'ğŸ”©',  color:'var(--accent-mech)',    cls:'active-mech'    },
];

const allCategories = [
  /* ===== CIVIL / STRUCTURAL ===== */
  {
    id:'length', disc:'civil', icon:'ğŸ“', label:'Ø§Ù„Ø·ÙˆÙ„', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø·ÙˆÙ„ ÙˆØ§Ù„Ù…Ø³Ø§ÙØ©',
    units:[
      {id:'mm',  name:'Ù…Ù„Ù„ÙŠÙ…ØªØ± (mm)',       f:1e-3},
      {id:'cm',  name:'Ø³Ù†ØªÙŠÙ…ØªØ± (cm)',       f:1e-2},
      {id:'dm',  name:'Ø¯ÙŠØ³ÙŠÙ…ØªØ± (dm)',       f:0.1},
      {id:'m',   name:'Ù…ØªØ± (m)',             f:1},
      {id:'km',  name:'ÙƒÙŠÙ„ÙˆÙ…ØªØ± (km)',       f:1e3},
      {id:'in',  name:'Ø¨ÙˆØµØ© (in)',           f:0.0254},
      {id:'ft',  name:'Ù‚Ø¯Ù… (ft)',            f:0.3048},
      {id:'yd',  name:'ÙŠØ§Ø±Ø¯Ø© (yd)',          f:0.9144},
      {id:'mi',  name:'Ù…ÙŠÙ„ (mi)',            f:1609.344},
      {id:'nmi', name:'Ù…ÙŠÙ„ Ø¨Ø­Ø±ÙŠ (nmi)',      f:1852},
    ],
    refs:[
      {l:'1 ft',   v:'= 0.3048 m'},
      {l:'1 in',   v:'= 25.4 mm'},
      {l:'1 yd',   v:'= 0.9144 m'},
      {l:'1 mi',   v:'= 1.609 km'},
    ]
  },
  {
    id:'area', disc:'civil', icon:'â¬œ', label:'Ø§Ù„Ù…Ø³Ø§Ø­Ø©', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø­Ø© ÙˆØ§Ù„Ø³Ø·Ø­',
    units:[
      {id:'mm2', name:'Ù…Ù…Â² (mmÂ²)',           f:1e-6},
      {id:'cm2', name:'Ø³Ù…Â² (cmÂ²)',           f:1e-4},
      {id:'m2',  name:'Ù…Â² (mÂ²)',             f:1},
      {id:'km2', name:'ÙƒÙ…Â² (kmÂ²)',           f:1e6},
      {id:'ha',  name:'Ù‡ÙƒØªØ§Ø± (ha)',          f:1e4},
      {id:'in2', name:'Ø¨ÙˆØµØ©Â² (inÂ²)',        f:6.4516e-4},
      {id:'ft2', name:'Ù‚Ø¯Ù…Â² (ftÂ²)',          f:0.092903},
      {id:'yd2', name:'ÙŠØ§Ø±Ø¯Ø©Â² (ydÂ²)',       f:0.836127},
      {id:'ac',  name:'ÙØ¯Ø§Ù† (acre)',         f:4046.86},
    ],
    refs:[
      {l:'1 ftÂ²',  v:'= 0.0929 mÂ²'},
      {l:'1 mÂ²',   v:'= 10.764 ftÂ²'},
      {l:'1 ha',   v:'= 10,000 mÂ²'},
      {l:'1 acre', v:'= 4046.9 mÂ²'},
    ]
  },
  {
    id:'volume', disc:'civil', icon:'ğŸ“¦', label:'Ø§Ù„Ø­Ø¬Ù…', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø³Ø¹Ø©',
    units:[
      {id:'mm3',  name:'Ù…Ù…Â³ (mmÂ³)',           f:1e-9},
      {id:'cm3',  name:'Ø³Ù…Â³ (cmÂ³)',           f:1e-6},
      {id:'m3',   name:'Ù…Â³ (mÂ³)',             f:1},
      {id:'L',    name:'Ù„ØªØ± (L)',             f:1e-3},
      {id:'mL',   name:'Ù…Ù„Ù„ÙŠÙ„ØªØ± (mL)',       f:1e-6},
      {id:'ft3',  name:'Ù‚Ø¯Ù…Â³ (ftÂ³)',          f:0.0283168},
      {id:'in3',  name:'Ø¨ÙˆØµØ©Â³ (inÂ³)',        f:1.6387e-5},
      {id:'gal',  name:'Ø¬Ø§Ù„ÙˆÙ† Ø£Ù…Ø±ÙŠÙƒÙŠ (gal)', f:0.00378541},
      {id:'yd3',  name:'ÙŠØ§Ø±Ø¯Ø©Â³ (ydÂ³)',       f:0.764555},
    ],
    refs:[
      {l:'1 mÂ³',  v:'= 1000 L'},
      {l:'1 ftÂ³', v:'= 0.02832 mÂ³'},
      {l:'1 ydÂ³', v:'= 0.7646 mÂ³'},
      {l:'1 gal', v:'= 3.785 L'},
    ]
  },
  {
    id:'force', disc:'civil', icon:'ğŸ’ª', label:'Ø§Ù„Ù‚ÙˆØ©', desc:'Ø§Ù„Ù‚ÙˆÙ‰ ÙˆØ§Ù„Ø£Ø­Ù…Ø§Ù„ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©',
    units:[
      {id:'N',    name:'Ù†ÙŠÙˆØªÙ† (N)',               f:1},
      {id:'kN',   name:'ÙƒÙŠÙ„ÙˆÙ†ÙŠÙˆØªÙ† (kN)',         f:1e3},
      {id:'MN',   name:'Ù…ÙŠØ¬Ø§Ù†ÙŠÙˆØªÙ† (MN)',         f:1e6},
      {id:'kgf',  name:'ÙƒØ¬Ù… Ù‚ÙˆØ© (kgf)',          f:9.80665},
      {id:'tf',   name:'Ø·Ù† Ù‚ÙˆØ© (tf)',            f:9806.65},
      {id:'lbf',  name:'Ø±Ø·Ù„ Ù‚ÙˆØ© (lbf)',          f:4.44822},
      {id:'kipf', name:'ÙƒÙŠØ¨ (kip)',              f:4448.22},
    ],
    refs:[
      {l:'1 kN',  v:'= 101.97 kgf'},
      {l:'1 tf',  v:'= 9.807 kN'},
      {l:'1 kip', v:'= 4.448 kN'},
      {l:'1 lbf', v:'= 4.448 N'},
    ]
  },
  {
    id:'pressure', disc:'civil', icon:'ğŸ”´', label:'Ø§Ù„Ø¶ØºØ· / Ø§Ù„Ø¥Ø¬Ù‡Ø§Ø¯', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¶ØºØ· ÙˆØ§Ù„Ø¥Ø¬Ù‡Ø§Ø¯',
    units:[
      {id:'Pa',    name:'Ø¨Ø§Ø³ÙƒØ§Ù„ (Pa)',             f:1},
      {id:'kPa',   name:'ÙƒÙŠÙ„ÙˆØ¨Ø§Ø³ÙƒØ§Ù„ (kPa)',       f:1e3},
      {id:'MPa',   name:'Ù…ÙŠØ¬Ø§Ø¨Ø§Ø³ÙƒØ§Ù„ (MPa)',       f:1e6},
      {id:'GPa',   name:'Ø¬ÙŠØ¬Ø§Ø¨Ø§Ø³ÙƒØ§Ù„ (GPa)',       f:1e9},
      {id:'bar',   name:'Ø¨Ø§Ø± (bar)',               f:1e5},
      {id:'atm',   name:'Ø¶ØºØ· Ø¬ÙˆÙŠ (atm)',          f:101325},
      {id:'psi',   name:'PSI (psi)',               f:6894.76},
      {id:'ksi',   name:'KSI (ksi)',               f:6894760},
      {id:'kgcm2', name:'ÙƒØ¬Ù…/Ø³Ù…Â² (kgf/cmÂ²)',     f:98066.5},
      {id:'tf_m2', name:'Ø·Ù†/Ù…Â² (tf/mÂ²)',          f:9806.65},
    ],
    refs:[
      {l:'1 MPa',      v:'= 1 N/mmÂ²'},
      {l:'1 kgf/cmÂ²',  v:'= 98.07 kPa'},
      {l:'1 psi',      v:'= 6.895 kPa'},
      {l:'1 bar',      v:'= 0.1 MPa'},
    ]
  },
  {
    id:'moment', disc:'civil', icon:'ğŸ”§', label:'Ø§Ù„Ø¹Ø²ÙˆÙ…', desc:'Ø¹Ø²ÙˆÙ… Ø§Ù„Ø§Ù†Ø¹Ø·Ø§Ù ÙˆØ§Ù„Ø§Ù†Ø¹Ø²Ø§Ù…',
    units:[
      {id:'Nm',    name:'Ù†ÙŠÙˆØªÙ†Â·Ù… (NÂ·m)',         f:1},
      {id:'kNm',   name:'ÙƒÙŠÙ„ÙˆÙ†ÙŠÙˆØªÙ†Â·Ù… (kNÂ·m)',   f:1e3},
      {id:'MNm',   name:'Ù…ÙŠØ¬Ø§Ù†ÙŠÙˆØªÙ†Â·Ù… (MNÂ·m)',   f:1e6},
      {id:'kgfm',  name:'ÙƒØ¬Ù…Â·Ù… (kgfÂ·m)',        f:9.80665},
      {id:'tfm',   name:'Ø·Ù†Â·Ù… (tfÂ·m)',           f:9806.65},
      {id:'lbft',  name:'Ø±Ø·Ù„Â·Ù‚Ø¯Ù… (lbfÂ·ft)',     f:1.35582},
      {id:'lbin',  name:'Ø±Ø·Ù„Â·Ø¨ÙˆØµØ© (lbfÂ·in)',    f:0.112985},
      {id:'kipft', name:'ÙƒÙŠØ¨Â·Ù‚Ø¯Ù… (kipÂ·ft)',      f:1355.82},
    ],
    refs:[
      {l:'1 kNÂ·m',   v:'= 101.97 kgfÂ·m'},
      {l:'1 tfÂ·m',   v:'= 9.807 kNÂ·m'},
      {l:'1 kipÂ·ft', v:'= 1.356 kNÂ·m'},
      {l:'1 lbfÂ·ft', v:'= 1.356 NÂ·m'},
    ]
  },
  {
    id:'mass', disc:'civil', icon:'âš–ï¸', label:'Ø§Ù„ÙƒØªÙ„Ø©', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„ÙƒØªÙ„Ø© ÙˆØ§Ù„ÙˆØ²Ù†',
    units:[
      {id:'mg',     name:'Ù…Ù„Ù„ÙŠØ¬Ø±Ø§Ù… (mg)',         f:1e-6},
      {id:'g',      name:'Ø¬Ø±Ø§Ù… (g)',              f:1e-3},
      {id:'kg',     name:'ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù… (kg)',         f:1},
      {id:'t',      name:'Ø·Ù† Ù…ØªØ±ÙŠ (t)',           f:1e3},
      {id:'lb',     name:'Ø±Ø·Ù„ (lb)',              f:0.453592},
      {id:'oz',     name:'Ø£ÙˆÙ‚ÙŠØ© (oz)',            f:0.0283495},
      {id:'ton_us', name:'Ø·Ù† Ø£Ù…Ø±ÙŠÙƒÙŠ (US ton)',    f:907.185},
      {id:'ton_uk', name:'Ø·Ù† Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠ (UK ton)',   f:1016.05},
    ],
    refs:[
      {l:'1 t',       v:'= 1000 kg'},
      {l:'1 kg',      v:'= 2.2046 lb'},
      {l:'1 US ton',  v:'= 907.2 kg'},
      {l:'1 UK ton',  v:'= 1016 kg'},
    ]
  },
  {
    id:'flow', disc:'civil', icon:'ğŸ’§', label:'Ø§Ù„ØªØµØ±Ù', desc:'ØªØµØ±Ù Ø§Ù„Ù…ÙŠØ§Ù‡ ÙˆØ§Ù„Ø³ÙˆØ§Ø¦Ù„',
    units:[
      {id:'m3s',   name:'Ù…Â³/Ø« (mÂ³/s)',         f:1},
      {id:'m3h',   name:'Ù…Â³/Ø³Ø§Ø¹Ø© (mÂ³/h)',      f:1/3600},
      {id:'m3d',   name:'Ù…Â³/ÙŠÙˆÙ… (mÂ³/day)',     f:1/86400},
      {id:'Ls',    name:'Ù„ØªØ±/Ø« (L/s)',         f:1e-3},
      {id:'Lmin',  name:'Ù„ØªØ±/Ø¯Ù‚ÙŠÙ‚Ø© (L/min)',  f:1/60000},
      {id:'gpm',   name:'Ø¬Ø§Ù„ÙˆÙ†/Ø¯Ù‚ÙŠÙ‚Ø© (GPM)',  f:6.309e-5},
      {id:'cfs',   name:'Ù‚Ø¯Ù…Â³/Ø« (cfs)',       f:0.0283168},
      {id:'MGD',   name:'Ù…Ù„ÙŠÙˆÙ† Ø¬Ø§Ù„ÙˆÙ†/ÙŠÙˆÙ… (MGD)',f:0.04381},
    ],
    refs:[
      {l:'1 mÂ³/s',    v:'= 1000 L/s'},
      {l:'1 L/s',     v:'= 0.001 mÂ³/s'},
      {l:'1 mÂ³/h',    v:'= 0.2778 L/s'},
      {l:'1 GPM',     v:'= 0.0631 L/s'},
    ]
  },
  {
    id:'angle', disc:'civil', icon:'ğŸ“', label:'Ø§Ù„Ø²ÙˆØ§ÙŠØ§ ÙˆØ§Ù„Ù…ÙŠÙ„', desc:'Ø§Ù„Ø²ÙˆØ§ÙŠØ§ ÙˆØ§Ù†Ø­Ø¯Ø§Ø± Ø§Ù„Ø£Ø±Ø¶',
    units:[
      {id:'deg',    name:'Ø¯Ø±Ø¬Ø© (Â°)',           f:1},
      {id:'rad',    name:'Ø±Ø§Ø¯ÙŠØ§Ù† (rad)',       f:180/Math.PI},
      {id:'grad',   name:'ØºØ±Ø§Ø¯ (grad)',        f:0.9},
      {id:'pct',    name:'Ù…ÙŠÙ„ Ù…Ø¦ÙˆÙŠ (%)',      f:null,pctMode:true},
      {id:'ratio1', name:'Ù†Ø³Ø¨Ø© 1:x',          f:null,ratioMode:true},
    ],
    angleMode:true,
    refs:[
      {l:'1Â°',   v:'= 0.01745 rad'},
      {l:'45Â°',  v:'= 100% slope'},
      {l:'1%',   v:'= 0.573Â°'},
      {l:'1:100',v:'= 1% slope'},
    ]
  },

  /* ===== ELECTRICAL ===== */
  {
    id:'voltage', disc:'elec', icon:'âš¡', label:'Ø§Ù„Ø¬Ù‡Ø¯ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ', desc:'Ø¬Ù‡Ø¯ ÙÙˆÙ„Øª ÙˆØªØ­ÙˆÙŠÙ„Ø§ØªÙ‡',
    units:[
      {id:'uV',  name:'Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ„Øª (ÂµV)',    f:1e-6},
      {id:'mV',  name:'Ù…Ù„Ù„ÙŠÙÙˆÙ„Øª (mV)',     f:1e-3},
      {id:'V',   name:'ÙÙˆÙ„Øª (V)',          f:1},
      {id:'kV',  name:'ÙƒÙŠÙ„ÙˆÙÙˆÙ„Øª (kV)',    f:1e3},
      {id:'MV',  name:'Ù…ÙŠØ¬Ø§ÙÙˆÙ„Øª (MV)',    f:1e6},
    ],
    refs:[
      {l:'1 kV',  v:'= 1000 V'},
      {l:'1 mV',  v:'= 0.001 V'},
      {l:'230 V', v:'= 0.23 kV (Ø´Ø¨ÙƒØ© Ù…Ù†Ø²Ù„ÙŠØ©)'},
      {l:'400 kV',v:'= Ø®Ø· Ù†Ù‚Ù„ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬Ù‡Ø¯'},
    ]
  },
  {
    id:'current', disc:'elec', icon:'ğŸŒŠ', label:'Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',
    units:[
      {id:'uA',  name:'Ù…ÙŠÙƒØ±ÙˆØ£Ù…Ø¨ÙŠØ± (ÂµA)',   f:1e-6},
      {id:'mA',  name:'Ù…Ù„Ù„ÙŠØ£Ù…Ø¨ÙŠØ± (mA)',    f:1e-3},
      {id:'A',   name:'Ø£Ù…Ø¨ÙŠØ± (A)',         f:1},
      {id:'kA',  name:'ÙƒÙŠÙ„ÙˆØ£Ù…Ø¨ÙŠØ± (kA)',   f:1e3},
    ],
    refs:[
      {l:'1 A',    v:'= 1000 mA'},
      {l:'1 kA',   v:'= 1000 A'},
      {l:'100 mA', v:'= 0.1 A (Ø®Ø·Ø± Ø§Ù„ØµØ¹Ù‚)'},
      {l:'1 ÂµA',   v:'= 0.000001 A'},
    ]
  },
  {
    id:'resistance', disc:'elec', icon:'â­•', label:'Ø§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', desc:'Ø£ÙˆÙ… ÙˆØªØ­ÙˆÙŠÙ„Ø§ØªÙ‡',
    units:[
      {id:'uOhm', name:'Ù…ÙŠÙƒØ±ÙˆØ£ÙˆÙ… (ÂµÎ©)',    f:1e-6},
      {id:'mOhm', name:'Ù…Ù„Ù„ÙŠØ£ÙˆÙ… (mÎ©)',     f:1e-3},
      {id:'Ohm',  name:'Ø£ÙˆÙ… (Î©)',          f:1},
      {id:'kOhm', name:'ÙƒÙŠÙ„ÙˆØ£ÙˆÙ… (kÎ©)',    f:1e3},
      {id:'MOhm', name:'Ù…ÙŠØ¬Ø§Ø£ÙˆÙ… (MÎ©)',    f:1e6},
      {id:'GOhm', name:'Ø¬ÙŠØ¬Ø§Ø£ÙˆÙ… (GÎ©)',    f:1e9},
    ],
    refs:[
      {l:'1 kÎ©',  v:'= 1000 Î©'},
      {l:'1 MÎ©',  v:'= 1,000,000 Î©'},
      {l:'V = IÃ—R',v:'Ù‚Ø§Ù†ÙˆÙ† Ø£ÙˆÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ'},
      {l:'P = IÂ²R',v:'Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù‚Ø¯Ø±Ø©'},
    ]
  },
  {
    id:'power_elec', disc:'elec', icon:'ğŸ’¡', label:'Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', desc:'ÙˆØ§Ø· ÙˆØªØ­ÙˆÙŠÙ„Ø§ØªÙ‡',
    units:[
      {id:'uW',   name:'Ù…ÙŠÙƒØ±ÙˆØ§Ø· (ÂµW)',      f:1e-6},
      {id:'mW',   name:'Ù…Ù„Ù„ÙŠÙˆØ§Ø· (mW)',      f:1e-3},
      {id:'W',    name:'ÙˆØ§Ø· (W)',            f:1},
      {id:'kW',   name:'ÙƒÙŠÙ„ÙˆØ§Ø· (kW)',       f:1e3},
      {id:'MW',   name:'Ù…ÙŠØ¬Ø§ÙˆØ§Ø· (MW)',      f:1e6},
      {id:'GW',   name:'Ø¬ÙŠØ¬Ø§ÙˆØ§Ø· (GW)',      f:1e9},
      {id:'hp',   name:'Ø­ØµØ§Ù† Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ (hp)',f:745.7},
      {id:'hp_m', name:'Ø­ØµØ§Ù† Ù…ØªØ±ÙŠ (PS)',    f:735.499},
      {id:'BTUh', name:'ÙˆØ­Ø¯Ø© Ø­Ø±Ø§Ø±ÙŠØ©/Ø³Ø§Ø¹Ø© (BTU/h)', f:0.293071},
      {id:'TR',   name:'Ø·Ù† ØªØ¨Ø±ÙŠØ¯ (TR)',     f:3516.85},
    ],
    refs:[
      {l:'1 kW',  v:'= 1.341 hp'},
      {l:'1 hp',  v:'= 0.7457 kW'},
      {l:'1 TR',  v:'= 3.517 kW'},
      {l:'1 MW',  v:'= 1000 kW'},
    ]
  },
  {
    id:'energy', disc:'elec', icon:'ğŸ”‹', label:'Ø§Ù„Ø·Ø§Ù‚Ø©', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',
    units:[
      {id:'J',    name:'Ø¬ÙˆÙ„ (J)',             f:1},
      {id:'kJ',   name:'ÙƒÙŠÙ„ÙˆØ¬ÙˆÙ„ (kJ)',       f:1e3},
      {id:'MJ',   name:'Ù…ÙŠØ¬Ø§Ø¬ÙˆÙ„ (MJ)',       f:1e6},
      {id:'GJ',   name:'Ø¬ÙŠØ¬Ø§Ø¬ÙˆÙ„ (GJ)',       f:1e9},
      {id:'Wh',   name:'ÙˆØ§Ø·Â·Ø³Ø§Ø¹Ø© (Wh)',      f:3600},
      {id:'kWh',  name:'ÙƒÙŠÙ„ÙˆØ§Ø·Â·Ø³Ø§Ø¹Ø© (kWh)', f:3.6e6},
      {id:'MWh',  name:'Ù…ÙŠØ¬Ø§ÙˆØ§Ø·Â·Ø³Ø§Ø¹Ø© (MWh)',f:3.6e9},
      {id:'BTU',  name:'ÙˆØ­Ø¯Ø© Ø­Ø±Ø§Ø±ÙŠØ© Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ© (BTU)', f:1055.06},
      {id:'cal',  name:'Ø³Ø¹Ø± Ø­Ø±Ø§Ø±ÙŠ (cal)',    f:4.184},
      {id:'kcal', name:'ÙƒÙŠÙ„Ùˆ Ø³Ø¹Ø± (kcal)',    f:4184},
      {id:'eV',   name:'Ø¥Ù„ÙƒØªØ±ÙˆÙ† ÙÙˆÙ„Øª (eV)',  f:1.60218e-19},
    ],
    refs:[
      {l:'1 kWh',  v:'= 3.6 MJ'},
      {l:'1 BTU',  v:'= 1055 J'},
      {l:'1 kcal', v:'= 4184 J'},
      {l:'1 MWh',  v:'= 1000 kWh'},
    ]
  },
  {
    id:'frequency', disc:'elec', icon:'ã€°ï¸', label:'Ø§Ù„ØªØ±Ø¯Ø¯', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ±Ø¯Ø¯ ÙˆØ§Ù„Ø¯ÙˆØ±Ø§Øª',
    units:[
      {id:'Hz',   name:'Ù‡Ø±ØªØ² (Hz)',           f:1},
      {id:'kHz',  name:'ÙƒÙŠÙ„ÙˆÙ‡Ø±ØªØ² (kHz)',     f:1e3},
      {id:'MHz',  name:'Ù…ÙŠØ¬Ø§Ù‡Ø±ØªØ² (MHz)',     f:1e6},
      {id:'GHz',  name:'Ø¬ÙŠØ¬Ø§Ù‡Ø±ØªØ² (GHz)',     f:1e9},
      {id:'rpm',  name:'Ø¯ÙˆØ±Ø©/Ø¯Ù‚ÙŠÙ‚Ø© (rpm)',   f:1/60},
      {id:'rps',  name:'Ø¯ÙˆØ±Ø©/Ø«Ø§Ù†ÙŠØ© (rps)',   f:1},
      {id:'rad_s',name:'Ø±Ø§Ø¯ÙŠØ§Ù†/Ø«Ø§Ù†ÙŠØ© (rad/s)',f:1/(2*Math.PI)},
    ],
    refs:[
      {l:'50 Hz',  v:'ØªØ±Ø¯Ø¯ Ø§Ù„Ø´Ø¨ÙƒØ© (Ø®Ù„ÙŠØ¬/Ø£ÙˆØ±ÙˆØ¨Ø§)'},
      {l:'60 Hz',  v:'ØªØ±Ø¯Ø¯ Ø§Ù„Ø´Ø¨ÙƒØ© (Ø£Ù…Ø±ÙŠÙƒØ§)'},
      {l:'1 kHz',  v:'= 1000 Hz'},
      {l:'1 rpm',  v:'= 0.01667 Hz'},
    ]
  },
  {
    id:'capacitance', disc:'elec', icon:'ğŸ”Œ', label:'Ø§Ù„Ø³Ø¹Ø© ÙˆØ§Ù„Ø­Ø«', desc:'ÙØ§Ø±Ø§Ø¯ØŒ Ù‡Ù†Ø±ÙŠ ÙˆØªØ­ÙˆÙŠÙ„Ø§ØªÙ‡Ù…Ø§',
    units:[
      {id:'pF',  name:'Ø¨ÙŠÙƒÙˆÙØ§Ø±Ø§Ø¯ (pF)',   f:1e-12},
      {id:'nF',  name:'Ù†Ø§Ù†ÙˆÙØ§Ø±Ø§Ø¯ (nF)',   f:1e-9},
      {id:'uF',  name:'Ù…ÙŠÙƒØ±ÙˆÙØ§Ø±Ø§Ø¯ (ÂµF)', f:1e-6},
      {id:'mF',  name:'Ù…Ù„Ù„ÙŠÙØ§Ø±Ø§Ø¯ (mF)',  f:1e-3},
      {id:'F',   name:'ÙØ§Ø±Ø§Ø¯ (F)',        f:1},
    ],
    refs:[
      {l:'1 ÂµF',  v:'= 1000 nF'},
      {l:'1 nF',  v:'= 1000 pF'},
      {l:'1 mF',  v:'= 1000 ÂµF'},
      {l:'X_C=1/(2Ï€fC)',v:'Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ù…ÙƒØ«Ù'},
    ]
  },
  {
    id:'illuminance', disc:'elec', icon:'ğŸ’¡', label:'Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©', desc:'ÙˆØ­Ø¯Ø§Øª Ø´Ø¯Ø© Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©',
    units:[
      {id:'lux',  name:'Ù„ÙƒØ³ (lux)',                f:1},
      {id:'fc',   name:'Ù‚Ø¯Ù…Â·Ø´Ù…Ø¹Ø© (foot-candle)',  f:10.7639},
      {id:'lm_m2',name:'Ù„ÙˆÙ…Ù†/Ù…Â² (lm/mÂ²)',        f:1},
      {id:'ph',   name:'ÙÙˆØ· (phot)',               f:10000},
    ],
    refs:[
      {l:'1 fc',    v:'= 10.76 lux'},
      {l:'500 lux', v:'Ø¥Ø¶Ø§Ø¡Ø© Ù…ÙƒØªØ¨ Ù…Ù†Ø§Ø³Ø¨Ø©'},
      {l:'100 lux', v:'Ø¥Ø¶Ø§Ø¡Ø© Ù…Ù…Ø±Ø§Øª'},
      {l:'750 lux', v:'Ø¥Ø¶Ø§Ø¡Ø© ÙˆØ±Ø´Ø© Ø¹Ù…Ù„'},
    ]
  },

  /* ===== MECHANICAL ===== */
  {
    id:'torque', disc:'mech', icon:'ğŸ”©', label:'Ø¹Ø²Ù… Ø§Ù„Ø¯ÙˆØ±Ø§Ù†', desc:'ÙˆØ­Ø¯Ø§Øª Ø¹Ø²Ù… Ø§Ù„Ø¯ÙˆØ±Ø§Ù† ÙˆØ§Ù„Ø§Ù†Ø¹Ø²Ø§Ù…',
    units:[
      {id:'Nm_t',    name:'Ù†ÙŠÙˆØªÙ†Â·Ù… (NÂ·m)',         f:1},
      {id:'kNm_t',   name:'ÙƒÙŠÙ„ÙˆÙ†ÙŠÙˆØªÙ†Â·Ù… (kNÂ·m)',   f:1e3},
      {id:'kgfm_t',  name:'ÙƒØ¬Ù…Â·Ù… (kgfÂ·m)',        f:9.80665},
      {id:'kgfcm_t', name:'ÙƒØ¬Ù…Â·Ø³Ù… (kgfÂ·cm)',      f:0.0980665},
      {id:'lbft_t',  name:'Ø±Ø·Ù„Â·Ù‚Ø¯Ù… (lbfÂ·ft)',     f:1.35582},
      {id:'lbin_t',  name:'Ø±Ø·Ù„Â·Ø¨ÙˆØµØ© (lbfÂ·in)',    f:0.112985},
      {id:'ozin_t',  name:'Ø£ÙˆÙ‚ÙŠØ©Â·Ø¨ÙˆØµØ© (ozÂ·in)',   f:0.00706155},
      {id:'kipft_t', name:'ÙƒÙŠØ¨Â·Ù‚Ø¯Ù… (kipÂ·ft)',      f:1355.82},
    ],
    refs:[
      {l:'1 NÂ·m',    v:'= 0.738 lbfÂ·ft'},
      {l:'1 kgfÂ·m',  v:'= 9.807 NÂ·m'},
      {l:'1 kipÂ·ft', v:'= 1.356 kNÂ·m'},
      {l:'1 lbfÂ·ft', v:'= 1.356 NÂ·m'},
    ]
  },
  {
    id:'power_mech', disc:'mech', icon:'ğŸï¸', label:'Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©', desc:'ÙˆØ§Ø· ÙˆØ­ØµØ§Ù† ÙˆØªØ­ÙˆÙŠÙ„Ø§ØªÙ‡Ù…Ø§',
    units:[
      {id:'W_m',   name:'ÙˆØ§Ø· (W)',                f:1},
      {id:'kW_m',  name:'ÙƒÙŠÙ„ÙˆØ§Ø· (kW)',            f:1e3},
      {id:'MW_m',  name:'Ù…ÙŠØ¬Ø§ÙˆØ§Ø· (MW)',           f:1e6},
      {id:'hp_m2', name:'Ø­ØµØ§Ù† Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ (hp)',     f:745.7},
      {id:'ps_m',  name:'Ø­ØµØ§Ù† Ù…ØªØ±ÙŠ (PS/CV)',      f:735.499},
      {id:'BTUh_m',name:'BTU/Ø³Ø§Ø¹Ø© (BTU/h)',       f:0.293071},
      {id:'kcals', name:'ÙƒÙŠÙ„Ùˆ Ø³Ø¹Ø±/Ø« (kcal/s)',    f:4184},
    ],
    refs:[
      {l:'1 hp',    v:'= 0.7457 kW'},
      {l:'1 kW',    v:'= 1.341 hp'},
      {l:'1 PS',    v:'= 0.7355 kW'},
      {l:'100 hp',  v:'= 74.57 kW'},
    ]
  },
  {
    id:'speed_mech', disc:'mech', icon:'ğŸ’¨', label:'Ø§Ù„Ø³Ø±Ø¹Ø©', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ø®Ø·ÙŠØ©',
    units:[
      {id:'ms_m',   name:'Ù…/Ø« (m/s)',             f:1},
      {id:'kmh_m',  name:'ÙƒÙ…/Ø³Ø§Ø¹Ø© (km/h)',        f:1/3.6},
      {id:'mph_m',  name:'Ù…ÙŠÙ„/Ø³Ø§Ø¹Ø© (mph)',        f:0.44704},
      {id:'fts_m',  name:'Ù‚Ø¯Ù…/Ø«Ø§Ù†ÙŠØ© (ft/s)',      f:0.3048},
      {id:'kn_m',   name:'Ø¹Ù‚Ø¯Ø© Ø¨Ø­Ø±ÙŠØ© (knot)',     f:0.514444},
      {id:'mach',   name:'Ù…Ø§Ø® (Mach â‰ˆ 343 m/s)', f:343},
    ],
    refs:[
      {l:'1 m/s',   v:'= 3.6 km/h'},
      {l:'100 km/h',v:'= 27.78 m/s'},
      {l:'1 mph',   v:'= 1.609 km/h'},
      {l:'1 knot',  v:'= 1.852 km/h'},
    ]
  },
  {
    id:'accel', disc:'mech', icon:'ğŸš€', label:'Ø§Ù„ØªØ³Ø§Ø±Ø¹', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ³Ø§Ø±Ø¹ Ø§Ù„Ø®Ø·ÙŠ',
    units:[
      {id:'ms2',   name:'Ù…/Ø«Â² (m/sÂ²)',           f:1},
      {id:'cms2',  name:'Ø³Ù…/Ø«Â² (cm/sÂ²)',         f:0.01},
      {id:'fts2',  name:'Ù‚Ø¯Ù…/Ø«Â² (ft/sÂ²)',        f:0.3048},
      {id:'g0',    name:'Ø¬Ø§Ø°Ø¨ÙŠØ© Ø£Ø±Ø¶ÙŠØ© (g)',       f:9.80665},
      {id:'Gal',   name:'ØºØ§Ù„ (Gal)',               f:0.01},
      {id:'ins2',  name:'Ø¨ÙˆØµØ©/Ø«Â² (in/sÂ²)',       f:0.0254},
    ],
    refs:[
      {l:'1 g',    v:'= 9.807 m/sÂ²'},
      {l:'9.807 m/sÂ²',v:'= ØªØ³Ø§Ø±Ø¹ Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©'},
      {l:'1 ft/sÂ²',v:'= 0.305 m/sÂ²'},
      {l:'1 Gal',  v:'= 0.01 m/sÂ²'},
    ]
  },
  {
    id:'density', disc:'mech', icon:'ğŸ§±', label:'Ø§Ù„ÙƒØ«Ø§ÙØ©', desc:'ÙƒØ«Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ø³ÙˆØ§Ø¦Ù„',
    units:[
      {id:'kgm3',  name:'ÙƒØ¬Ù…/Ù…Â³ (kg/mÂ³)',        f:1},
      {id:'gcm3',  name:'Ø¬Ù…/Ø³Ù…Â³ (g/cmÂ³)',        f:1000},
      {id:'kgL',   name:'ÙƒØ¬Ù…/Ù„ØªØ± (kg/L)',        f:1000},
      {id:'lbft3', name:'Ø±Ø·Ù„/Ù‚Ø¯Ù…Â³ (lb/ftÂ³)',     f:16.0185},
      {id:'lbin3', name:'Ø±Ø·Ù„/Ø¨ÙˆØµØ©Â³ (lb/inÂ³)',    f:27679.9},
      {id:'tonne_m3',name:'Ø·Ù†/Ù…Â³ (t/mÂ³)',       f:1000},
    ],
    refs:[
      {l:'Ù…Ø§Ø¡',     v:'= 1000 kg/mÂ³'},
      {l:'Ø®Ø±Ø³Ø§Ù†Ø©',  v:'â‰ˆ 2400 kg/mÂ³'},
      {l:'ÙÙˆÙ„Ø§Ø°',   v:'â‰ˆ 7850 kg/mÂ³'},
      {l:'Ø£Ù„Ù…Ù†ÙŠÙˆÙ…', v:'â‰ˆ 2700 kg/mÂ³'},
    ]
  },
  {
    id:'viscosity', disc:'mech', icon:'ğŸ’§', label:'Ø§Ù„Ù„Ø²ÙˆØ¬Ø©', desc:'Ø§Ù„Ù„Ø²ÙˆØ¬Ø© Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© ÙˆØ§Ù„Ø­Ø±ÙƒÙŠØ©',
    units:[
      {id:'Pa_s',   name:'Ø¨Ø§Ø³ÙƒØ§Ù„Â·Ø« (PaÂ·s)',       f:1},
      {id:'mPa_s',  name:'Ù…Ù„Ù„ÙŠØ¨Ø§Ø³ÙƒØ§Ù„Â·Ø« (mPaÂ·s)', f:1e-3},
      {id:'cP',     name:'Ø³Ù†ØªÙŠØ¨ÙˆØ§Ø² (cP)',          f:1e-3},
      {id:'P',      name:'Ø¨ÙˆØ§Ø² (P)',               f:0.1},
      {id:'cSt',    name:'Ø³Ù†ØªÙŠØ³ØªÙˆÙƒ (cSt)',        f:1e-6},
      {id:'St',     name:'Ø³ØªÙˆÙƒ (St)',              f:1e-4},
    ],
    refs:[
      {l:'Ù…Ø§Ø¡ Ø¹Ù†Ø¯ 20Â°C', v:'â‰ˆ 1 mPaÂ·s = 1 cP'},
      {l:'Ø²ÙŠØª Ù…Ø­Ø±Ùƒ',     v:'â‰ˆ 100â€“200 cP'},
      {l:'Ø¹Ø³Ù„',          v:'â‰ˆ 2000â€“10000 cP'},
      {l:'1 PaÂ·s',       v:'= 1000 mPaÂ·s'},
    ]
  },
  {
    id:'heat_transfer', disc:'mech', icon:'ğŸŒ¡ï¸', label:'Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„', desc:'ÙˆØ­Ø¯Ø§Øª Ø­Ø±Ø§Ø±ÙŠØ© ÙˆÙ…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„',
    units:[
      {id:'W_mK',    name:'ÙˆØ§Ø·/(Ù…Â·ÙƒÙ„ÙÙ†) â€” W/(mÂ·K)',            f:1},
      {id:'BTU_hftF',name:'BTU/(hÂ·ftÂ·Â°F)',                     f:1.73073},
      {id:'kcal_mhC',name:'ÙƒÙŠÙ„Ùˆ Ø³Ø¹Ø±/(Ù…Â·Ø³Ø§Ø¹Ø©Â·Â°C)',             f:1.163},
      {id:'W_m2K',   name:'ÙˆØ§Ø·/(Ù…Â²Â·ÙƒÙ„ÙÙ†) â€” W/(mÂ²Â·K)',        f:1},
      {id:'BTU_hft2F',name:'BTU/(hÂ·ftÂ²Â·Â°F)',                  f:5.67826},
    ],
    refs:[
      {l:'Ø®Ø±Ø³Ø§Ù†Ø©',  v:'â‰ˆ 1.7 W/(mÂ·K)'},
      {l:'ÙÙˆÙ„Ø§Ø°',   v:'â‰ˆ 50 W/(mÂ·K)'},
      {l:'Ø¹Ø²Ù„ Ø­Ø±Ø§Ø±ÙŠ',v:'â‰ˆ 0.04 W/(mÂ·K)'},
      {l:'Ù…Ø§Ø¡',     v:'â‰ˆ 0.6 W/(mÂ·K)'},
    ]
  },

  /* ===== GENERAL ===== */
  {
    id:'temp', disc:'general', icon:'ğŸŒ¡ï¸', label:'Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©', desc:'ØªØ­ÙˆÙŠÙ„ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±Ø©',
    units:[
      {id:'C', name:'Ø¯Ø±Ø¬Ø© Ù…Ø¦ÙˆÙŠØ© (Â°C)',   f:1},
      {id:'F', name:'ÙÙ‡Ø±Ù†Ù‡Ø§ÙŠØª (Â°F)',     f:1},
      {id:'K', name:'ÙƒÙ„ÙÙ† (K)',           f:1},
      {id:'R', name:'Ø±Ø§Ù†ÙƒÙŠÙ† (Â°R)',        f:1},
    ],
    tempMode:true,
    refs:[
      {l:'0Â°C',    v:'= 32Â°F = 273.15 K'},
      {l:'100Â°C',  v:'= 212Â°F = 373.15 K'},
      {l:'-40Â°C',  v:'= -40Â°F'},
      {l:'20Â°C',   v:'= 68Â°F'},
    ]
  },
  {
    id:'time', disc:'general', icon:'â±ï¸', label:'Ø§Ù„Ø²Ù…Ù†', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø²Ù…Ù† ÙˆØ§Ù„Ù…Ø¯Ø©',
    units:[
      {id:'ns',   name:'Ù†Ø§Ù†ÙˆØ«Ø§Ù†ÙŠØ© (ns)',        f:1e-9},
      {id:'us',   name:'Ù…ÙŠÙƒØ±ÙˆØ«Ø§Ù†ÙŠØ© (Âµs)',       f:1e-6},
      {id:'ms_t', name:'Ù…Ù„Ù„ÙŠØ«Ø§Ù†ÙŠØ© (ms)',        f:1e-3},
      {id:'s',    name:'Ø«Ø§Ù†ÙŠØ© (s)',             f:1},
      {id:'min',  name:'Ø¯Ù‚ÙŠÙ‚Ø© (min)',           f:60},
      {id:'hr',   name:'Ø³Ø§Ø¹Ø© (h)',             f:3600},
      {id:'day',  name:'ÙŠÙˆÙ… (day)',            f:86400},
      {id:'wk',   name:'Ø£Ø³Ø¨ÙˆØ¹ (week)',         f:604800},
      {id:'mo',   name:'Ø´Ù‡Ø± 30 ÙŠÙˆÙ… (month)',   f:2592000},
      {id:'yr',   name:'Ø³Ù†Ø© 365 ÙŠÙˆÙ… (year)',   f:31536000},
    ],
    refs:[
      {l:'1 hr',   v:'= 3600 s'},
      {l:'1 day',  v:'= 86400 s'},
      {l:'1 week', v:'= 168 hrs'},
      {l:'1 year', v:'= 8760 hrs'},
    ]
  },
  {
    id:'data', disc:'general', icon:'ğŸ’¾', label:'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©', desc:'ÙˆØ­Ø¯Ø§Øª Ø³Ø¹Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†',
    units:[
      {id:'bit',  name:'Ø¨Øª (bit)',        f:1},
      {id:'Byte', name:'Ø¨Ø§ÙŠØª (Byte)',     f:8},
      {id:'KB',   name:'ÙƒÙŠÙ„ÙˆØ¨Ø§ÙŠØª (KB)',  f:8192},
      {id:'MB',   name:'Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª (MB)',  f:8388608},
      {id:'GB',   name:'Ø¬ÙŠØ¬Ø§Ø¨Ø§ÙŠØª (GB)',  f:8589934592},
      {id:'TB',   name:'ØªÙŠØ±Ø§Ø¨Ø§ÙŠØª (TB)',  f:8.796e12},
      {id:'PB',   name:'Ø¨ÙŠØªØ§Ø¨Ø§ÙŠØª (PB)',  f:9.007e15},
      {id:'Kib',  name:'ÙƒÙŠØ¨ÙŠØ¨Ø§ÙŠØª (KiB)',f:8192},
      {id:'Mib',  name:'Ù…ÙŠØ¨ÙŠØ¨Ø§ÙŠØª (MiB)',f:8388608},
    ],
    refs:[
      {l:'1 KB',  v:'= 1024 Bytes'},
      {l:'1 MB',  v:'= 1024 KB'},
      {l:'1 GB',  v:'= 1024 MB'},
      {l:'1 TB',  v:'= 1024 GB'},
    ]
  },
  {
    id:'concentration', disc:'general', icon:'ğŸ§ª', label:'Ø§Ù„ØªØ±ÙƒÙŠØ²', desc:'ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ±ÙƒÙŠØ² Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ',
    units:[
      {id:'kgm3_c', name:'ÙƒØ¬Ù…/Ù…Â³ (kg/mÂ³)',     f:1},
      {id:'gL',     name:'Ø¬Ù…/Ù„ØªØ± (g/L)',        f:1},
      {id:'mgL',    name:'Ù…Ù„Ù„ÙŠØ¬Ù…/Ù„ØªØ± (mg/L)',  f:1e-3},
      {id:'ugL',    name:'Ù…ÙŠÙƒØ±ÙˆØ¬Ù…/Ù„ØªØ± (Âµg/L)', f:1e-6},
      {id:'ppm_m',  name:'Ø¬Ø²Ø¡/Ù…Ù„ÙŠÙˆÙ† (ppm)',    f:1e-3},
      {id:'ppb',    name:'Ø¬Ø²Ø¡/Ù…Ù„ÙŠØ§Ø± (ppb)',     f:1e-6},
      {id:'ppt',    name:'Ø¬Ø²Ø¡/ØªØ±ÙŠÙ„ÙŠÙˆÙ† (ppt)',   f:1e-9},
    ],
    refs:[
      {l:'1 mg/L',   v:'= 1 ppm (ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡)'},
      {l:'1 g/L',    v:'= 1000 mg/L'},
      {l:'1 ppm',    v:'= 1000 ppb'},
      {l:'1000 Âµg/L',v:'= 1 mg/L'},
    ]
  },
];

/* ================================================================
   STATE
   ================================================================ */
let currentDisc = 'general';
let currentCat  = allCategories.find(c => c.disc === 'general');

/* ================================================================
   BUILD UI
   ================================================================ */
function buildDiscBar(){
  const bar = document.getElementById('discBar');
  bar.innerHTML = '';
  disciplines.forEach(d => {
    const btn = document.createElement('button');
    btn.className = 'disc-btn' + (d.id===currentDisc ? ' '+d.cls : '');
    btn.dataset.id  = d.id;
    btn.dataset.cls = d.cls;
    btn.innerHTML = `<span class="disc-dot"></span>${d.icon} ${d.label}`;
    btn.onclick = () => selectDisc(d, btn);
    bar.appendChild(btn);
  });
}

function buildCatBar(){
  const bar = document.getElementById('catBar');
  bar.innerHTML = '';
  const cats = allCategories.filter(c => c.disc === currentDisc);
  cats.forEach((cat, i) => {
    const btn = document.createElement('button');
    btn.className = 'cat-btn' + (cat.id===currentCat.id ? ' active' : '');
    btn.innerHTML = `${cat.icon} ${cat.label}`;
    btn.onclick = () => selectCat(cat, btn);
    bar.appendChild(btn);
  });
}

function selectDisc(d, btn){
  document.querySelectorAll('.disc-btn').forEach(b => {
    b.className = 'disc-btn';
  });
  btn.className = 'disc-btn ' + d.cls;
  currentDisc = d.id;

  // pick first cat in discipline
  const cats = allCategories.filter(c => c.disc === d.id);
  currentCat  = cats[0];

  // update accent color dynamically
  const colorMap = {
    civil:'var(--accent-civil)',
    elec: 'var(--accent-elec)',
    mech: 'var(--accent-mech)',
    general:'var(--accent-general)'
  };
  document.documentElement.style.setProperty('--accent', colorMap[d.id] || 'var(--accent-civil)');

  buildCatBar();
  loadCat(currentCat);
}

function selectCat(cat, btn){
  document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  currentCat = cat;
  loadCat(cat);
}

function loadCat(cat){
  document.getElementById('catIcon').textContent  = cat.icon;
  document.getElementById('catTitle').textContent = cat.label;
  document.getElementById('catDesc').textContent  = cat.desc;

  const fromSel = document.getElementById('fromUnit');
  const toSel   = document.getElementById('toUnit');
  fromSel.innerHTML = '';
  toSel.innerHTML   = '';
  cat.units.forEach((u, i) => {
    fromSel.appendChild(new Option(u.name, u.id));
    toSel.appendChild(new Option(u.name, u.id));
  });
  if(cat.units.length > 1) toSel.selectedIndex = 1;
  document.getElementById('fromVal').value = '1';
  convert();
  buildRefs(cat);
}

function buildRefs(cat){
  const grid = document.getElementById('refGrid');
  grid.innerHTML = '';
  if(!cat.refs) return;
  cat.refs.forEach(r => {
    const card = document.createElement('div');
    card.className = 'ref-card';
    card.innerHTML = `<div class="ref-from">${r.l}</div><div class="ref-val">${r.v}</div>`;
    card.onclick = () => {
      const m = r.l.match(/^-?([\d.]+)/);
      if(m){ document.getElementById('fromVal').value = m[1]; convert(); }
    };
    grid.appendChild(card);
  });
}

/* ================================================================
   CONVERSION LOGIC
   ================================================================ */
function getUnit(id){ return currentCat.units.find(u => u.id === id); }

function convertTemp(val, from, to){
  let c;
  if(from==='C') c=val;
  else if(from==='F') c=(val-32)*5/9;
  else if(from==='K') c=val-273.15;
  else if(from==='R') c=(val-491.67)*5/9;
  if(to==='C') return c;
  if(to==='F') return c*9/5+32;
  if(to==='K') return c+273.15;
  if(to==='R') return (c+273.15)*9/5;
}

function convertAngle(val, from, to){
  let deg;
  if(from==='deg')    deg=val;
  else if(from==='rad')   deg=val*180/Math.PI;
  else if(from==='grad')  deg=val*0.9;
  else if(from==='pct')   deg=Math.atan(val/100)*180/Math.PI;
  else if(from==='ratio1')deg=Math.atan(1/val)*180/Math.PI;
  if(to==='deg')    return deg;
  if(to==='rad')    return deg*Math.PI/180;
  if(to==='grad')   return deg/0.9;
  if(to==='pct')    return Math.tan(deg*Math.PI/180)*100;
  if(to==='ratio1') return 1/Math.tan(deg*Math.PI/180);
}

function formatNum(n){
  if(n===null||isNaN(n)||!isFinite(n)) return 'â€”';
  const a=Math.abs(n);
  if(a===0) return '0';
  if(a>=0.0001 && a<1e9){
    let s=n.toPrecision(8);
    if(s.includes('.')&&!s.includes('e')) s=s.replace(/\.?0+$/,'');
    return s;
  }
  return n.toExponential(5);
}

function convert(){
  const fromId = document.getElementById('fromUnit').value;
  const toId   = document.getElementById('toUnit').value;
  const val    = parseFloat(document.getElementById('fromVal').value);

  if(isNaN(val)){
    ['toVal','bigResult','formulaText'].forEach(id=>{
      document.getElementById(id)[id==='bigResult'?'textContent':'value'] = 'â€”';
    });
    return;
  }

  let result, formula='';

  if(currentCat.tempMode){
    result  = convertTemp(val, fromId, toId);
    formula = `ØªØ­ÙˆÙŠÙ„ ${getUnit(fromId).name} â†’ ${getUnit(toId).name}`;
  } else if(currentCat.angleMode){
    result  = convertAngle(val, fromId, toId);
    formula = `${val} [${fromId}] â†’ [${toId}]`;
  } else {
    const fU = getUnit(fromId);
    const tU = getUnit(toId);
    const base = val * fU.f;
    result  = base / tU.f;
    if(fromId===toId) formula=`Ù‚ÙŠÙ…Ø© Ù…ØªØ·Ø§Ø¨Ù‚Ø©: ${val}`;
    else formula=`${val} Ã— ${formatNum(fU.f)} Ã· ${formatNum(tU.f)} = ${formatNum(result)}`;
  }

  const formatted = formatNum(result);
  document.getElementById('toVal').value      = formatted;
  document.getElementById('bigResult').textContent = formatted;
  document.getElementById('formulaText').textContent = formula;
}

function swap(){
  const f=document.getElementById('fromUnit');
  const t=document.getElementById('toUnit');
  const fv=f.value; f.value=t.value; t.value=fv;
  const rv=document.getElementById('toVal').value;
  if(rv&&rv!=='â€”') document.getElementById('fromVal').value=rv;
  convert();
}

function copyResult(){
  const v=document.getElementById('bigResult').textContent;
  if(v&&v!=='â€”'){
    navigator.clipboard.writeText(v).catch(()=>{});
    const t=document.getElementById('toast');
    t.classList.add('show');
    setTimeout(()=>t.classList.remove('show'),2000);
  }
}

/* ================================================================
   FOOTER DATE
   ================================================================ */
const months=['ÙŠÙ†Ø§ÙŠØ±','ÙØ¨Ø±Ø§ÙŠØ±','Ù…Ø§Ø±Ø³','Ø£Ø¨Ø±ÙŠÙ„','Ù…Ø§ÙŠÙˆ','ÙŠÙˆÙ†ÙŠÙˆ','ÙŠÙˆÙ„ÙŠÙˆ','Ø£ØºØ³Ø·Ø³','Ø³Ø¨ØªÙ…Ø¨Ø±','Ø£ÙƒØªÙˆØ¨Ø±','Ù†ÙˆÙÙ…Ø¨Ø±','Ø¯ÙŠØ³Ù…Ø¨Ø±'];
const now=new Date();
document.getElementById('footerDate').textContent=`${now.getDate()} ${months[now.getMonth()]} ${now.getFullYear()}`;

/* ================================================================
   INIT
   ================================================================ */
buildDiscBar();
buildCatBar();
// set initial accent color
document.documentElement.style.setProperty('--accent', 'var(--accent-general)');
loadCat(currentCat);

document.getElementById('fromVal').addEventListener('input', convert);
document.getElementById('fromUnit').addEventListener('change', convert);
document.getElementById('toUnit').addEventListener('change', convert);
document.getElementById('swapBtn').addEventListener('click', swap);
document.getElementById('copyBtn').addEventListener('click', copyResult);
</script>
</body>
</html>
